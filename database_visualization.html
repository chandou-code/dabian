<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ¡å›­å¤±ç‰©æ‹›é¢†ç³»ç»Ÿ - æ•°æ®åº“ç»“æ„ä¸æ•°æ®æµå‘åˆ†æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .content {
            padding: 30px;
        }

        .database-info {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            border-left: 4px solid #4facfe;
        }

        .database-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e9ecef;
        }

        .tab-button {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: #6c757d;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            color: #4facfe;
            border-bottom-color: #4facfe;
        }

        .tab-button:hover {
            background: rgba(79, 172, 254, 0.1);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .table-diagram {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .table-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .table-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .table-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: #4facfe;
        }

        .table-card:hover::before {
            transform: scaleX(1);
        }

        .table-card.selected {
            border-color: #4facfe;
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.05), rgba(0, 242, 254, 0.05));
        }

        .table-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-weight: bold;
            font-size: 1.2rem;
            color: #2c3e50;
        }

        .table-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-size: 1.2rem;
        }

        .table-fields {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .table-card.expanded .table-fields {
            max-height: 500px;
            overflow-y: auto;
        }

        .field-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 0.9rem;
            border-left: 3px solid #dee2e6;
        }

        .field-item.primary {
            border-left-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .field-item.foreign {
            border-left-color: #007bff;
            background: rgba(0, 123, 255, 0.1);
        }

        .field-name {
            font-weight: 500;
            color: #2c3e50;
        }

        .field-type {
            color: #6c757d;
            font-size: 0.85rem;
        }

        .relationships {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .relationship-arrow {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }

        .arrow-icon {
            margin: 0 15px;
            color: #28a745;
            font-size: 1.5rem;
        }

        .flow-diagram {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 30px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            position: relative;
        }

        .flow-step::after {
            content: 'â†“';
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            color: #4facfe;
        }

        .flow-step:last-child::after {
            display: none;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .step-description {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .api-endpoints {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .endpoint-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #ffc107;
        }

        .endpoint-method {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .endpoint-method.get {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }

        .endpoint-method.post {
            background: rgba(0, 123, 255, 0.1);
            color: #007bff;
        }

        .endpoint-url {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .endpoint-description {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid #e9ecef;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #4facfe;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #6c757d;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .table-diagram {
                grid-template-columns: 1fr;
            }
            
            .flow-step {
                flex-direction: column;
                text-align: center;
            }
            
            .step-number {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .database-tabs {
                flex-wrap: wrap;
            }
            
            .content {
                padding: 15px;
            }
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #6c757d;
        }

        .error {
            background: rgba(220, 53, 69, 0.1);
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
        }

        .success {
            background: rgba(40, 167, 69, 0.1);
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ—„ï¸ æ ¡å›­å¤±ç‰©æ‹›é¢†ç³»ç»Ÿ</h1>
            <p>æ•°æ®åº“ç»“æ„ä¸æ•°æ®æµå‘å¯è§†åŒ–åˆ†æ</p>
        </div>
        
        <div class="content">
            <div class="database-info">
                <h3>ğŸ“Š ç³»ç»Ÿåˆ†ææ¦‚è¿°</h3>
                <p>æœ¬ç³»ç»Ÿä½¿ç”¨MySQLæ•°æ®åº“ï¼ŒåŒ…å«ä¸¤ä¸ªä¸»è¦æ•°æ®åº“ï¼š<strong>campus_lost_found</strong>ï¼ˆæ–°ç‰ˆæœ¬ï¼‰å’Œ<strong>lostandfound</strong>ï¼ˆæ—§ç‰ˆæœ¬ï¼‰ï¼Œåç«¯ä¸»è¦ä¸æ–°ç‰ˆæœ¬æ•°æ®åº“äº¤äº’ã€‚</p>
            </div>

            <div class="database-tabs">
                <button class="tab-button active" onclick="showTab('overview')">æ€»è§ˆ</button>
                <button class="tab-button" onclick="showTab('new-database')">campus_lost_found</button>
                <button class="tab-button" onclick="showTab('old-database')">lostandfound</button>
                <button class="tab-button" onclick="showTab('relationships')">è¡¨å…³ç³»</button>
                <button class="tab-button" onclick="showTab('dataflow')">æ•°æ®æµå‘</button>
                <button class="tab-button" onclick="showTab('api')">APIæ¥å£</button>
                <button class="tab-button" onclick="showTab('statistics')">æ•°æ®ç»Ÿè®¡</button>
            </div>

            <!-- æ€»è§ˆæ ‡ç­¾é¡µ -->
            <div id="overview" class="tab-content active">
                <h2>ğŸ—ï¸ ç³»ç»Ÿæ¶æ„æ€»è§ˆ</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">2</div>
                        <div class="stat-label">æ•°æ®åº“å®ä¾‹</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">13</div>
                        <div class="stat-label">æ•°æ®è¡¨æ€»æ•°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">8</div>
                        <div class="stat-label">æ ¸å¿ƒä¸šåŠ¡è¡¨</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">15+</div>
                        <div class="stat-label">APIæ¥å£</div>
                    </div>
                </div>
                
                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">å‰ç«¯è¯·æ±‚</div>
                            <div class="step-description">ç”¨æˆ·é€šè¿‡uni-appå‰ç«¯å‘é€HTTPè¯·æ±‚åˆ°åç«¯API</div>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Controllerå±‚å¤„ç†</div>
                            <div class="step-description">Spring Boot Controlleræ¥æ”¶è¯·æ±‚å¹¶è°ƒç”¨Serviceå±‚</div>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Serviceä¸šåŠ¡é€»è¾‘</div>
                            <div class="step-description">Serviceå±‚å¤„ç†ä¸šåŠ¡é€»è¾‘å¹¶è°ƒç”¨Mapperå±‚</div>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Mapperæ•°æ®è®¿é—®</div>
                            <div class="step-description">MyBatis Plus Mapperæ‰§è¡ŒSQLæŸ¥è¯¢æ•°æ®åº“</div>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">æ•°æ®è¿”å›</div>
                            <div class="step-description">æŸ¥è¯¢ç»“æœé€å±‚è¿”å›ï¼Œæœ€ç»ˆå“åº”ç»™å‰ç«¯</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ–°æ•°æ®åº“æ ‡ç­¾é¡µ -->
            <div id="new-database" class="tab-content">
                <h2>ğŸ†• campus_lost_found æ•°æ®åº“ï¼ˆå½“å‰ä½¿ç”¨ï¼‰</h2>
                <div class="table-diagram">
                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ‘¥</div>
                            <span>users (ç”¨æˆ·è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item">username (VARCHAR(50), å”¯ä¸€)</div>
                            <div class="field-item">password (VARCHAR(255), åŠ å¯†)</div>
                            <div class="field-item">real_name (VARCHAR(50), çœŸå®å§“å)</div>
                            <div class="field-item">email (VARCHAR(100), é‚®ç®±)</div>
                            <div class="field-item">phone (VARCHAR(20), æ‰‹æœºå·)</div>
                            <div class="field-item">role (ENUM, ç”¨æˆ·è§’è‰²)</div>
                            <div class="field-item">avatar (VARCHAR(500), å¤´åƒURL)</div>
                            <div class="field-item">college (VARCHAR(100), å­¦é™¢)</div>
                            <div class="field-item">grade (VARCHAR(50), å¹´çº§)</div>
                            <div class="field-item">status (TINYINT, çŠ¶æ€)</div>
                            <div class="field-item">created_at (TIMESTAMP, åˆ›å»ºæ—¶é—´)</div>
                        </div>
                    </div>

                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ“¦</div>
                            <span>items (ç‰©å“è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item">item_name (VARCHAR(100), ç‰©å“åç§°)</div>
                            <div class="field-item">category (VARCHAR(50), ç‰©å“ç±»åˆ«)</div>
                            <div class="field-item">description (TEXT, ç‰©å“æè¿°)</div>
                            <div class="field-item">images (JSON, å›¾ç‰‡URLæ•°ç»„)</div>
                            <div class="field-item">contact (VARCHAR(500), è”ç³»æ–¹å¼)</div>
                            <div class="field-item">location (VARCHAR(200), åœ°ç‚¹)</div>
                            <div class="field-item">event_time (DATE, äº‹ä»¶æ—¶é—´)</div>
                            <div class="field-item">type (ENUM, lost/found)</div>
                            <div class="field-item">status (ENUM, pending/approved/rejected/claimed)</div>
                            <div class="field-item foreign">submitter_id (BIGINT, å¤–é”®â†’users.id)</div>
                            <div class="field-item foreign">reviewer_id (BIGINT, å¤–é”®â†’users.id)</div>
                            <div class="field-item foreign">matched_item_id (BIGINT, å¤–é”®â†’items.id)</div>
                            <div class="field-item">recovered_at (TIMESTAMP, æ‰¾å›æ—¶é—´)</div>
                            <div class="field-item">created_at (TIMESTAMP, åˆ›å»ºæ—¶é—´)</div>
                            <div class="field-item">deleted (TINYINT, é€»è¾‘åˆ é™¤)</div>
                        </div>
                    </div>

                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ“‹</div>
                            <span>reviews (å®¡æ ¸è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item foreign">item_id (BIGINT, å¤–é”®â†’items.id)</div>
                            <div class="field-item foreign">reviewer_id (BIGINT, å¤–é”®â†’users.id)</div>
                            <div class="field-item">action (ENUM, approve/reject)</div>
                            <div class="field-item">reason (TEXT, å®¡æ ¸åŸå› )</div>
                            <div class="field-item">created_at (TIMESTAMP, åˆ›å»ºæ—¶é—´)</div>
                        </div>
                    </div>

                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ””</div>
                            <span>notifications (é€šçŸ¥è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item foreign">user_id (BIGINT, å¤–é”®â†’users.id)</div>
                            <div class="field-item foreign">related_item_id (BIGINT, å¤–é”®â†’items.id)</div>
                            <div class="field-item">title (VARCHAR(200), é€šçŸ¥æ ‡é¢˜)</div>
                            <div class="field-item">content (TEXT, é€šçŸ¥å†…å®¹)</div>
                            <div class="field-item">type (ENUM, æ¶ˆæ¯ç±»å‹)</div>
                            <div class="field-item">is_read (TINYINT, æ˜¯å¦å·²è¯»)</div>
                            <div class="field-item">created_at (TIMESTAMP, åˆ›å»ºæ—¶é—´)</div>
                        </div>
                    </div>

                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ“</div>
                            <span>file_uploads (æ–‡ä»¶ä¸Šä¼ è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item foreign">user_id (BIGINT, å¤–é”®â†’users.id)</div>
                            <div class="field-item foreign">item_id (BIGINT, å¤–é”®â†’items.id)</div>
                            <div class="field-item">file_name (VARCHAR(255), æ–‡ä»¶å)</div>
                            <div class="field-item">file_path (VARCHAR(500), æ–‡ä»¶è·¯å¾„)</div>
                            <div class="field-item">file_size (BIGINT, æ–‡ä»¶å¤§å°)</div>
                            <div class="field-item">file_type (VARCHAR(50), æ–‡ä»¶ç±»å‹)</div>
                            <div class="field-item">upload_time (TIMESTAMP, ä¸Šä¼ æ—¶é—´)</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ—§æ•°æ®åº“æ ‡ç­¾é¡µ -->
            <div id="old-database" class="tab-content">
                <h2>ğŸ—‚ï¸ lostandfound æ•°æ®åº“ï¼ˆæ—§ç‰ˆæœ¬ï¼‰</h2>
                <div class="table-diagram">
                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ‘¥</div>
                            <span>users (ç”¨æˆ·è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item">username (VARCHAR(255), ç”¨æˆ·å)</div>
                            <div class="field-item">password (VARCHAR(255), å¯†ç )</div>
                            <div class="field-item">email (VARCHAR(255), é‚®ç®±)</div>
                            <div class="field-item">role (VARCHAR(255), è§’è‰²)</div>
                        </div>
                    </div>

                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ”</div>
                            <span>lost_items (å¤±ç‰©è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item">name (VARCHAR(255), ç‰©å“åç§°)</div>
                            <div class="field-item">description (VARCHAR(255), æè¿°)</div>
                            <div class="field-item">category (VARCHAR(255), ç±»åˆ«)</div>
                            <div class="field-item">lost_location (VARCHAR(255), ä¸¢å¤±åœ°ç‚¹)</div>
                            <div class="field-item">lost_time (VARCHAR(255), ä¸¢å¤±æ—¶é—´)</div>
                            <div class="field-item">image_url (VARCHAR(255), å›¾ç‰‡URL)</div>
                            <div class="field-item foreign">user_id (BIGINT, å¤–é”®â†’users.id)</div>
                            <div class="field-item">status (VARCHAR(255), çŠ¶æ€)</div>
                            <div class="field-item">create_time (DATETIME, åˆ›å»ºæ—¶é—´)</div>
                        </div>
                    </div>

                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">âœ…</div>
                            <span>found_items (æ‹›é¢†è¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item">name (VARCHAR(255), ç‰©å“åç§°)</div>
                            <div class="field-item">description (VARCHAR(255), æè¿°)</div>
                            <div class="field-item">category (VARCHAR(255), ç±»åˆ«)</div>
                            <div class="field-item">found_location (VARCHAR(255), å‘ç°åœ°ç‚¹)</div>
                            <div class="field-item">found_time (VARCHAR(255), å‘ç°æ—¶é—´)</div>
                            <div class="field-item">image_url (VARCHAR(255), å›¾ç‰‡URL)</div>
                            <div class="field-item foreign">user_id (BIGINT, å¤–é”®â†’.users.id)</div>
                            <div class="field-item">contact_info (VARCHAR(255), è”ç³»ä¿¡æ¯)</div>
                            <div class="field-item">status (VARCHAR(255), çŠ¶æ€)</div>
                            <div class="field-item">create_time (DATETIME, åˆ›å»ºæ—¶é—´)</div>
                        </div>
                    </div>

                    <div class="table-card" onclick="toggleTable(this)">
                        <div class="table-header">
                            <div class="table-icon">ğŸ’¬</div>
                            <span>comments (è¯„è®ºè¡¨)</span>
                        </div>
                        <div class="table-fields">
                            <div class="field-item primary">id (BIGINT, ä¸»é”®)</div>
                            <div class="field-item foreign">lost_item_id (BIGINT, å¤–é”®â†’lost_items.id)</div>
                            <div class="field-item foreign">user_id (BIGINT, å¤–é”®â†’users.id)</div>
                            <div class="field-item">content (TEXT, è¯„è®ºå†…å®¹)</div>
                            <div class="field-item">create_time (DATETIME, åˆ›å»ºæ—¶é—´)</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è¡¨å…³ç³»æ ‡ç­¾é¡µ -->
            <div id="relationships" class="tab-content">
                <h2>ğŸ”— è¡¨å…³ç³»å›¾</h2>
                <div class="relationships">
                    <h3>campus_lost_found æ•°æ®åº“å…³ç³»ï¼š</h3>
                    
                    <div class="relationship-arrow">
                        <strong>users.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>items.submitter_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç”¨æˆ·å¯ä»¥å‘å¸ƒå¤šä¸ªç‰©å“)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>users.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>items.reviewer_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç”¨æˆ·å¯ä»¥å®¡æ ¸å¤šä¸ªç‰©å“)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>items.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>items.matched_item_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(è‡ªå…³è”ï¼šç‰©å“åŒ¹é…)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>items.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>reviews.item_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç‰©å“å¯ä»¥æœ‰å¤šä¸ªå®¡æ ¸è®°å½•)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>users.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>reviews.reviewer_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç”¨æˆ·å¯ä»¥å®¡æ ¸å¤šä¸ªç‰©å“)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>users.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>notifications.user_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç”¨æˆ·å¯ä»¥æ¥æ”¶å¤šä¸ªé€šçŸ¥)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>items.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>notifications.related_item_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç‰©å“å¯ä»¥äº§ç”Ÿå¤šä¸ªé€šçŸ¥)</small>
                    </div>

                    <h3 style="margin-top: 30px;">lostandfound æ•°æ®åº“å…³ç³»ï¼š</h3>
                    
                    <div class="relationship-arrow">
                        <strong>users.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>lost_items.user_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç”¨æˆ·å¯ä»¥å‘å¸ƒå¤šä¸ªå¤±ç‰©)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>users.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>found_items.user_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªç”¨æˆ·å¯ä»¥å‘å¸ƒå¤šä¸ªæ‹›é¢†)</small>
                    </div>
                    
                    <div class="relationship-arrow">
                        <strong>lost_items.id</strong>
                        <span class="arrow-icon">â†’</span>
                        <strong>comments.lost_item_id</strong>
                        <small style="margin-left: 10px; color: #6c757d;">(ä¸€ä¸ªå¤±ç‰©å¯ä»¥æœ‰å¤šä¸ªè¯„è®º)</small>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®æµå‘æ ‡ç­¾é¡µ -->
            <div id="dataflow" class="tab-content">
                <h2>ğŸ”„ æ•°æ®æµå‘åˆ†æ</h2>
                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">ç”¨æˆ·æ³¨å†Œ/ç™»å½•</div>
                            <div class="step-description">ç”¨æˆ·ä¿¡æ¯å­˜å…¥ <strong>campus_lost_found.users</strong> è¡¨</div>
                        </div>
                    </div>
                    
                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">å‘å¸ƒå¤±ç‰©/æ‹›é¢†</div>
                            <div class="step-description">æ•°æ®å­˜å…¥ <strong>campus_lost_found.items</strong> è¡¨ï¼ŒçŠ¶æ€ä¸º 'pending'</div>
                        </div>
                    </div>
                    
                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">æ–‡ä»¶ä¸Šä¼ </div>
                            <div class="step-description">å›¾ç‰‡ä¿¡æ¯å­˜å…¥ <strong>campus_lost_found.file_uploads</strong> è¡¨</div>
                        </div>
                    </div>
                    
                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">å®¡æ ¸æµç¨‹</div>
                            <div class="step-description">å®¡æ ¸è®°å½•å­˜å…¥ <strong>campus_lost_found.reviews</strong> è¡¨ï¼Œæ›´æ–° items.status</div>
                        </div>
                    </div>
                    
                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">åŒ¹é…æˆåŠŸ</div>
                            <div class="step-description">æ›´æ–° items.matched_item_id å’Œ items.recovered_atï¼ŒçŠ¶æ€å˜ä¸º 'claimed'</div>
                        </div>
                    </div>
                    
                    <div class="flow-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <div class="step-title">é€šçŸ¥å‘é€</div>
                            <div class="step-description">é€šçŸ¥ä¿¡æ¯å­˜å…¥ <strong>campus_lost_found.notifications</strong> è¡¨</div>
                        </div>
                    </div>
                </div>

                <div class="database-info" style="margin-top: 30px;">
                    <h3>âš ï¸ æ•°æ®åº“å†²çªè¯´æ˜</h3>
                    <p><strong>é‡è¦å‘ç°ï¼š</strong> ç³»ç»Ÿä¸­å­˜åœ¨ä¸¤ä¸ªæ•°æ®åº“ï¼š</p>
                    <ul style="margin: 10px 0 10px 20px; line-height: 1.8;">
                        <li><strong>campus_lost_found</strong> - æ–°ç‰ˆæœ¬æ•°æ®åº“ï¼ŒSpring Bootåº”ç”¨è¿æ¥æ­¤åº“</li>
                        <li><strong>lostandfound</strong> - æ—§ç‰ˆæœ¬æ•°æ®åº“ï¼Œ<code>found-items</code> APIå®é™…æŸ¥è¯¢æ­¤åº“</li>
                    </ul>
                    <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> éœ€è¦ç»Ÿä¸€æ•°æ®åº“è¿æ¥æˆ–è¿ç§»æ•°æ®åˆ°æ–°ç‰ˆæœ¬æ•°æ®åº“ã€‚</p>
                </div>
            </div>

            <!-- APIæ¥å£æ ‡ç­¾é¡µ -->
            <div id="api" class="tab-content">
                <h2>ğŸŒ APIæ¥å£åˆ†æ</h2>
                <div class="api-endpoints">
                    <div class="endpoint-card">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-url">/api/home</div>
                        <div class="endpoint-description">è·å–é¦–é¡µç»Ÿè®¡æ•°æ®ï¼ˆå¤±ç‰©ã€æ‹›é¢†ã€æ‰¾å›æ•°é‡ç­‰ï¼‰</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-url">/api/home/recent</div>
                        <div class="endpoint-description">è·å–æœ€æ–°ç‰©å“åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µ</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-url">/api/items/found-items</div>
                        <div class="endpoint-description">è·å–æ‹›é¢†ç‰©å“åˆ—è¡¨ âš ï¸ å®é™…æŸ¥è¯¢lostandfound.found_items</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-url">/api/items/lost-items</div>
                        <div class="endpoint-description">è·å–å¤±ç‰©ç‰©å“åˆ—è¡¨ï¼Œæ”¯æŒåˆ†ç±»ã€çŠ¶æ€ç­›é€‰</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-url">/api/items/lost-items</div>
                        <div class="endpoint-description">å‘å¸ƒå¤±ç‰©ä¿¡æ¯ï¼Œéœ€è¦ç™»å½•è®¤è¯</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-url">/api/items/found-items</div>
                        <div class="endpoint-description">å‘å¸ƒæ‹›é¢†ä¿¡æ¯ï¼Œéœ€è¦ç™»å½•è®¤è¯</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-url">/api/items/{id}</div>
                        <div class="endpoint-description">è·å–ç‰©å“è¯¦ç»†ä¿¡æ¯ï¼Œè‡ªåŠ¨å¢åŠ æµè§ˆæ¬¡æ•°</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-url">/api/auth/login</div>
                        <div class="endpoint-description">ç”¨æˆ·ç™»å½•ï¼Œè¿”å›JWT token</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-url">/api/auth/register</div>
                        <div class="endpoint-description">ç”¨æˆ·æ³¨å†Œï¼Œåˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·</div>
                    </div>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-url">/api/statistics/dashboard</div>
                        <div class="endpoint-description">è·å–ç”¨æˆ·ä»ªè¡¨æ¿ç»Ÿè®¡æ•°æ®</div>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®ç»Ÿè®¡æ ‡ç­¾é¡µ -->
            <div id="statistics" class="tab-content">
                <h2>ğŸ“ˆ æ•°æ®ç»Ÿè®¡ä¸åˆ†æ</h2>
                <div id="statsContainer" class="loading">
                    <p>æ­£åœ¨åŠ è½½æ•°æ®ç»Ÿè®¡...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentTab = 'overview';
        
        function showTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µ
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById(tabName).classList.add('active');
            
            // æ¿€æ´»å¯¹åº”çš„æŒ‰é’®
            event.target.classList.add('active');
            
            currentTab = tabName;
            
            // å¦‚æœæ˜¯ç»Ÿè®¡æ ‡ç­¾é¡µï¼ŒåŠ è½½æ•°æ®
            if (tabName === 'statistics') {
                loadStatistics();
            }
        }
        
        function toggleTable(element) {
            element.classList.toggle('expanded');
            element.classList.toggle('selected');
        }
        
        async function loadStatistics() {
            const container = document.getElementById('statsContainer');
            
            try {
                // æ¨¡æ‹ŸAPIè°ƒç”¨æ¥è·å–ç»Ÿè®¡æ•°æ®
                const stats = [
                    { database: 'campus_lost_found', tables: 8, records: 0, status: 'æ–°ç‰ˆæœ¬' },
                    { database: 'lostandfound', tables: 6, records: 0, status: 'æ—§ç‰ˆæœ¬' }
                ];
                
                let html = '<div class="stats-grid">';
                stats.forEach(stat => {
                    html += `
                        <div class="stat-card">
                            <div class="stat-number">${stat.tables}</div>
                            <div class="stat-label">${stat.database} è¡¨æ•°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">${stat.records}</div>
                            <div class="stat-label">${stat.database} è®°å½•æ•°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">${stat.status}</div>
                            <div class="stat-label">${stat.database} çŠ¶æ€</div>
                        </div>
                    `;
                });
                html += '</div>';
                
                html += `
                    <div class="database-info" style="margin-top: 30px;">
                        <h3>ğŸ“Š æ•°æ®åº“å¯¹æ¯”åˆ†æ</h3>
                        <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 12px; text-align: left; border: 1px solid #dee2e6;">æ•°æ®åº“å</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #dee2e6;">è¡¨æ•°é‡</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #dee2e6;">è®°å½•æ•°é‡</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #dee2e6;">å­—ç¬¦é›†</th>
                                    <th style="padding: 12px; text-align: left; border: 1px solid #dee2e6;">ä½¿ç”¨çŠ¶æ€</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 12px; border: 1px solid #dee2e6; font-weight: bold;">campus_lost_found</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6;">8</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6; color: #28a745;">${stats[0].records}</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6;">utf8mb4_unicode_ci</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6;"><span style="color: #28a745; font-weight: bold;">Spring Boot è¿æ¥</span></td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px; border: 1px solid #dee2e6; font-weight: bold;">lostandfound</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6;">6</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6; color: #dc3545;">${stats[1].records}</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6;">utf8mb4_unicode_ci</td>
                                    <td style="padding: 12px; border: 1px solid #dee2e6;"><span style="color: #ffc107; font-weight: bold;">API å†²çª</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `;
                
                container.innerHTML = html;
                container.classList.remove('loading');
                
            } catch (error) {
                container.innerHTML = `
                    <div class="error">
                        åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥ï¼š${error.message}
                    </div>
                `;
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('æ•°æ®åº“ç»“æ„å¯è§†åŒ–é¡µé¢å·²åŠ è½½');
        });
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        showTab('overview');
                        break;
                    case '2':
                        showTab('new-database');
                        break;
                    case '3':
                        showTab('old-database');
                        break;
                    case '4':
                        showTab('relationships');
                        break;
                    case '5':
                        showTab('dataflow');
                        break;
                    case '6':
                        showTab('api');
                        break;
                    case '7':
                        showTab('statistics');
                        break;
                }
            }
        });
    </script>
</body>
</html>