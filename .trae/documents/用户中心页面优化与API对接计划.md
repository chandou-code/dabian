# 用户中心页面优化与API对接计划

## 1. 修复API配置错误

* 修改`dashboard.js`中的API\_BASE\_URL配置，使用正确的路径

* 移除对不存在的`config.js`文件的引用

* 确保所有API请求使用`request.js`中封装的请求方法

## 2. 移除"快捷操作"栏目

* 删除CSS样式中第529-583行的"快速操作"相关样式

* 模板中已无直接的"快捷操作"HTML结构，无需修改

## 3. 实现"最近活动"模块与后端API对接

* 确保`loadDashboardData`方法中正确处理`dashboardData.recentActivities`

* 添加活动状态的正确映射（已实现）

* 确保时间格式化显示正确

## 4. 隐藏"推荐匹配"相关内容

* 删除模板中第116-154行的"推荐匹配"模块

* 移除相关的`viewMatch`和`handleImageError`方法

* 删除CSS样式中第662-735行的"推荐匹配"样式

## 5. 实现各模块与后端的完整数据对接

* **我发布的失物**：使用`dashboardData.totalPosted`

* **发布的招领**：使用`dashboardData.totalFound`

* **已找回物品**：使用`dashboardData.recovered`（替换硬编码的40%比例）

* **待处理信息**：使用`dashboardData.pending`（替换硬编码的20%比例）

## 6. 修复通知图标数字显示位置

* 修改CSS中`.badge`样式（第467-476行）：

  * 调整`top: -8rpx`和`right: -8rpx`，使数字部分超出铃铛图标外圈

  * 优化字体大小和padding，确保数字与图标比例协调

  * 确保在不同屏幕尺寸下显示正常

## 7. 实现通知功能与后端的完整对接

* 确保`getUnreadCount` API正确调用，更新`unreadCount`数据

* 在`showNotifications`方法中，实现完整的通知列表展示

* 添加已读/未读状态管理

* 确保"是否过审"状态明确标识

## 8. 全面检查与优化

* 确保所有数据展示模块均正确对接后端接口

* 验证页面在不同数据状态下的表现：

  * 数据加载中（已实现加载状态）

  * 数据为空（已实现空数据提示）

  * 数据异常（已实现错误提示）

* 确保所有交互功能正常工作

* 修复模板中第76-77行的多余`</view>`标签

## 实施步骤

1. 修复API配置错误
2. 调整页面结构（移除多余标签、隐藏推荐匹配）
3. 优化通知图标样式
4. 实现各模块与后端的完整数据对接
5. 完善最近活动模块
6. 实现通知功能完整对接
7. 进行全面测试和优化

## 预期效果

* 页面结构清晰，无冗余模块

* 所有数据均从后端API获取，准确无误

* 通知功能完整，状态管理清晰

* 页面在不同数据状态下表现良好

* 视觉效果优化，通知图标数字显示位置正确

## 注意事项

* 确保API字段名与后端返回一致

* 处理API请求失败的情况

* 确保加载状态和错误提示用户友好

* 保持代码的可维护性和可读性

